(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{652:function(e,t,r){"use strict";r.r(t),function(e){var o,n=r(42),a=r(715),s=r(28),c=r(661);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object(s.c)(n.a,n.c,[{key:"competition",reducer:c.a}]);var i,u,l=a.a;t.default=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(l,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/index.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}.call(this,r(11)(e))},661:function(e,t,r){"use strict";(function(e){r.d(t,"f",(function(){return m})),r.d(t,"b",(function(){return b})),r.d(t,"e",(function(){return y})),r.d(t,"d",(function(){return g})),r.d(t,"g",(function(){return v})),r.d(t,"c",(function(){return O}));var o,n,a=r(7),s=r.n(a),c=r(14),i=r(28);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var p,d,f=Object(c.b)("@@COMPETITION"),m=f("SET_ROOM_ID"),b=f("SET_COMPETITION"),j=f("REMOVE_ROOM_ID"),y=f("SET_PLAYER"),g=f("SET_LEVEL"),v=f("SET_TIPS"),O=f("SET_IMAGE"),E={roomId:null,player:2,level:"easy",image:"0",tips:!1,users:{},grids:[]},z=(o={},s()(o,m.type,(function(e,t){return l({},e,{roomId:t.payload.roomId})})),s()(o,b.type,(function(e,t){return l({},e,{},t.payload)})),s()(o,j.type,(function(e){return l({},e,{roomId:null})})),s()(o,y.type,(function(e,t){return l({},e,{player:t.payload})})),s()(o,g.type,(function(e,t){return l({},e,{level:t.payload})})),s()(o,v.type,(function(e,t){return l({},e,{tips:t.payload})})),s()(o,O.type,(function(e,t){return l({},e,{image:t.payload})})),o),L=Object(i.a)(E,z),G=L;t.a=G,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(f,"actionCreator","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(m,"setRoomId","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(b,"setCompetition","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(j,"removeRoomId","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(y,"setPlayer","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(g,"setLevel","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(v,"setTips","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(O,"setImage","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(E,"initialState","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(z,"handlers","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(L,"reducers","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(G,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(11)(e))},715:function(e,t,r){"use strict";(function(e){var o,n=r(7),a=r.n(n),s=r(29),c=r.n(s),i=r(0),u=r.n(i),l=r(35),p=r(118),d=r(716),f=r(21),m=r(179),b=r(195),j=r(661),y=r(613),g=r(404),v=r(653),O=r.n(v),E=r(25),z=r(116),L=r(654),G=r.n(L),w=r(371),x=r(16),D=r(14);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},P=function(){var e=Object(f.d)(),t=Object(f.e)((function(e){return e.competition})),r=t.roomId,o=t.player,n=t.level,s=t.image,v=t.tips,L=t.users,H=Object(f.e)((function(e){return e.auth})).loggedIn,P=Object(i.useState)(!0),S=c()(P,2),I=S[0],U=S[1],M=Object(z.a)(5,"backward",(function(){M.setTimerState("reset"),U(!1)})),k=Object(i.useState)(!0),T=c()(k,2),_=T[0],C=T[1],R=Object(i.useState)(3),A=c()(R,2),N=A[0],F=A[1],J=Object(i.useState)([]),V=c()(J,2),Y=V[0],q=V[1],B=Object(i.useState)([]),K=c()(B,2),Q=K[0],W=K[1];Object(i.useEffect)((function(){var e=x.d[n];F(e),q(Object(D.e)(300,x.d[n]))}),[]),Object(i.useEffect)((function(){var t;return null!==r&&(t=m.database().ref("/competition/".concat(r))).on("value",(function(t){var r=t.val();e(Object(j.b)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))),W(r.users[H.uid].grids),r.allReady&&!0===_&&(M.setTimerState("started"),C(!1))})),function(){null!==r&&t.off()}}),[_,H]);var X=Object(i.useCallback)((function(){var e={};e["/competition/".concat(r,"/users/").concat(H.uid,"/ready")]=!0,m.database().ref().update(e)}),[r,H]);return u.a.createElement(l.h,null,u.a.createElement(p.a,{title:"Multi Player Game",prev:u.a.createElement(b.a,null)}),u.a.createElement(d.a,null,Object.keys(L).length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement(d.e,null,Object.keys(L).map((function(e){return u.a.createElement(d.d,{key:e},u.a.createElement(d.b,{avatar:L[e].avatar,ready:L[e].ready}),u.a.createElement(d.f,null,L[e].name),u.a.createElement(d.c,null,L[e].percent,"%"))})),Object(y.a)(g.a,o-Object.keys(L).length).map((function(e){return u.a.createElement(d.d,{key:e},u.a.createElement(d.b,null,u.a.createElement(O.a,{color:"#fff"})),u.a.createElement(d.f,null,"wait..."),u.a.createElement(d.c,null,"-%"))}))),u.a.createElement(E.m,{active:"reset"===M.timerState,first:I,duration:400},u.a.createElement(E.n,null,u.a.createElement(G.a,{value:"cp::".concat(r),size:300,includeMargin:!0})),u.a.createElement(E.l,null,u.a.createElement(w.a,{prepared:_,width:300,grids:Q,cols:N,image:s,tips:v,layoutPositionList:Y,moveHandler:function(e,t){if(_||t.label===N*N-1)return!1;var o=Object(D.f)(t.position,N),n=Object(D.g)(Q,N);(o.x===n.x&&1===Math.abs(o.y-n.y)||o.y===n.y&&1===Math.abs(o.x-n.x))&&(Q[n.idx].position=Q[e].position,Q[e].position=n.position,m.database().ref("/competition/".concat(r,"/users/").concat(H.uid,"/grids")).set(Q),m.database().ref("/competition/".concat(r,"/users/").concat(H.uid,"/percent")).set(Object(D.a)(Q)))}}))),u.a.createElement(E.c,null,L[H.uid].ready?null:u.a.createElement(E.b,{onClick:X},"I AM READY"))):"Loading..."),"started"===M.timerState?u.a.createElement(E.a,null,0===M.seconds?"GO":M.seconds):null)};H(P,"useDispatch{dispatch}\nuseSelector{{ roomId, player, level, image, tips, users }}\nuseSelector{{ loggedIn }}\nuseState{[first, setFirst](true)}\nuseTimer{countDownTimer}\nuseState{[prepared, setPrepared](true)}\nuseState{[cols, setCols](3)}\nuseState{[layoutPositionList, setLayoutPositionList]([])}\nuseState{[grids, setGrids]([])}\nuseEffect{}\nuseEffect{}\nuseCallback{ready}",(function(){return[f.d,f.e,f.e,z.a]}));var S,I,U=P;t.a=U,(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(P,"Game","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/containers/game.js"),S.register(U,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/containers/game.js")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)}).call(this,r(11)(e))},716:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return j})),r.d(t,"e",(function(){return y})),r.d(t,"d",(function(){return g})),r.d(t,"b",(function(){return v})),r.d(t,"f",(function(){return O})),r.d(t,"c",(function(){return E}));var o,n=r(6),a=r.n(n),s=r(5),c=r(35);function i(){var e=a()(["\n  width: 30px;\n  text-align: right;\n  align-self: center;\n"]);return i=function(){return e},e}function u(){var e=a()(["\n  width: calc(100% - 60px);\n  color: #fff;\n  align-self: center;\n"]);return u=function(){return e},e}function l(){var e=a()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  margin-right: 5px;\n  border-width: 2px;\n  border-style: solid;\n  border-color: ",";\n"]);return l=function(){return e},e}function p(){var e=a()(["\n  width: 45%;\n  display: flex;\n  flex-wrap: nowrap;\n  padding: 5px 0;\n"]);return p=function(){return e},e}function d(){var e=a()(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 30px 10px 50px 10px;\n  padding: 10px;\n  justify-content: space-between;\n  border: 1px solid #fff;\n  border-radius: 5px;\n"]);return d=function(){return e},e}function f(){var e=a()(["\n  display: flex;\n  align-content: flex-start;\n  flex-wrap: wrap;\n"]);return f=function(){return e},e}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var m,b,j=Object(s.default)(c.a)(f()),y=s.default.div(d()),g=s.default.div(p()),v=s.default.div(l(),(function(e){return e.avatar}),(function(e){return e.ready?"green":"#cccccc"})),O=s.default.div(u()),E=s.default.div(i());(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(j,"GameInner","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(y,"PlayerList","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(g,"PlayerItem","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(v,"PlayerAvatar","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(O,"PlayerName","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(E,"PlayerGamePercent","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r(11)(e))}}]);