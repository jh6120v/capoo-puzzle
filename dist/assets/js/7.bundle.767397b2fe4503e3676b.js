(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{657:function(e,t,o){"use strict";o.r(t),function(e){var r,n=o(42),a=o(722),c=o(32),s=o(664);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object(c.c)(n.a,n.c,[{key:"competition",reducer:s.a}]);var i,u,l=a.a;t.default=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(l,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/index.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}.call(this,o(10)(e))},664:function(e,t,o){"use strict";(function(e){o.d(t,"b",(function(){return f})),o.d(t,"g",(function(){return b})),o.d(t,"c",(function(){return j})),o.d(t,"f",(function(){return g})),o.d(t,"e",(function(){return v})),o.d(t,"h",(function(){return O})),o.d(t,"d",(function(){return E}));var r,n,a=o(11),c=o.n(a),s=o(16),i=o(32);function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(o,!0).forEach((function(t){c()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var p,d,m=Object(s.b)("@@COMPETITION"),f=m("RESET_COMPETITION"),b=m("SET_ROOM_ID"),j=m("SET_COMPETITION"),y=m("REMOVE_ROOM_ID"),g=m("SET_PLAYER"),v=m("SET_LEVEL"),O=m("SET_TIPS"),E=m("SET_IMAGE"),h={roomId:null,player:2,level:null,image:"0",tips:!1,users:{},grids:[]},w=(r={},c()(r,f.type,(function(e){return l({},e,{},h)})),c()(r,b.type,(function(e,t){return l({},e,{roomId:t.payload.roomId})})),c()(r,j.type,(function(e,t){return l({},e,{},t.payload)})),c()(r,y.type,(function(e){return l({},e,{roomId:null})})),c()(r,g.type,(function(e,t){return l({},e,{player:t.payload})})),c()(r,v.type,(function(e,t){return l({},e,{level:t.payload})})),c()(r,O.type,(function(e,t){return l({},e,{tips:t.payload})})),c()(r,E.type,(function(e,t){return l({},e,{image:t.payload})})),r),z=Object(i.a)(h,w),L=z;t.a=L,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(m,"actionCreator","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(f,"resetCompetition","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(b,"setRoomId","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(j,"setCompetition","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(y,"removeRoomId","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(g,"setPlayer","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(v,"setLevel","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(O,"setTips","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(E,"setImage","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(h,"initialState","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(w,"handlers","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(z,"reducers","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),p.register(L,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,o(10)(e))},722:function(e,t,o){"use strict";(function(e){var r,n=o(11),a=o.n(n),c=o(28),s=o.n(c),i=o(0),u=o.n(i),l=o(35),p=o(118),d=o(723),m=o(14),f=o(145),b=o(196),j=o(664),y=o(616),g=o(406),v=o(658),O=o.n(v),E=o(25),h=o(117),w=o(659),z=o.n(w),L=o(371),G=o(21),x=o(16),D=o(112),P=o(181),S=o(42);function H(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I=function(){var e=Object(m.d)(),t=Object(m.e)((function(e){return e.competition})),o=t.roomId,r=t.player,n=t.level,c=t.image,v=t.tips,w=t.users,M=Object(m.e)((function(e){return e.auth})).loggedIn,I=Object(i.useState)(!0),U=s()(I,2),k=U[0],T=U[1],C=Object(h.a)(5,"backward",(function(){C.setTimerState("reset"),T(!1)})),_=Object(i.useState)(!0),R=s()(_,2),A=R[0],N=R[1],Y=Object(i.useState)(3),B=s()(Y,2),F=B[0],J=B[1],V=Object(i.useState)([]),q=s()(V,2),K=q[0],Q=q[1],W=Object(i.useState)(null),X=s()(W,2),Z=X[0],$=X[1],ee=Object(i.useState)(""),te=s()(ee,2),oe=te[0],re=te[1],ne=Object(D.a)("Message",oe,Object(i.useCallback)((function(){ie(),S.a.push("/competition")}),[])),ae=ne.ModelBox,ce=ne.isShown,se=ne.showModal,ie=ne.hideModal;Object(i.useEffect)((function(){if(null!==n){var e=G.a[n];J(e),Q(Object(x.e)(300,e))}}),[n]),Object(i.useEffect)((function(){var t;return null!==o&&(t=f.database().ref("/competition/".concat(o))).on("value",(function(o){var r=o.val();if(void 0!==r.winner)return r.winner===M.uid?re("You are the winner."):re("You are the loser"),se(),void t.off();$(r.users[M.uid].grids),e(Object(j.c)(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?H(o,!0).forEach((function(t){a()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):H(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},r))),r.allReady&&!0===A&&(C.setTimerState("started"),N(!1))})),function(){null!==o&&t.off()}}),[A,M]);var ue=Object(i.useCallback)((function(){var e={};e["/competition/".concat(o,"/users/").concat(M.uid,"/ready")]=!0,f.database().ref().update(e)}),[o,M]);return u.a.createElement(l.h,null,u.a.createElement(p.a,{title:"Multi Player Game",prev:u.a.createElement(b.a,null)}),u.a.createElement(d.a,null,Object.keys(w).length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement(d.e,null,Object.keys(w).map((function(e){return u.a.createElement(d.d,{key:e},u.a.createElement(d.b,{avatar:w[e].avatar,ready:w[e].ready}),u.a.createElement(d.f,null,w[e].name),u.a.createElement(d.c,null,w[e].percent,"%"))})),Object(y.a)(g.a,r-Object.keys(w).length).map((function(e){return u.a.createElement(d.d,{key:e},u.a.createElement(d.b,null,u.a.createElement(O.a,{color:"#cccccc"})),u.a.createElement(d.f,null,"wait..."),u.a.createElement(d.c,null,"-%"))}))),u.a.createElement(E.m,{active:"reset"===C.timerState,first:k,duration:400},u.a.createElement(E.n,null,u.a.createElement(z.a,{value:"cp::".concat(o),size:300,includeMargin:!0})),u.a.createElement(E.l,null,u.a.createElement(L.a,{prepared:A,width:300,grids:Z,cols:F,image:c,tips:v,layoutPositionList:K,moveHandler:function(e,t,r,n){if(A||t.label===r*r-1)return!1;var a=Object(x.f)(t.position,r),c=Object(x.g)(n,r);if(a.x===c.x&&1===Math.abs(a.y-c.y)||a.y===c.y&&1===Math.abs(a.x-c.x)){n[c.idx].position=n[e].position,n[e].position=c.position,f.database().ref("/competition/".concat(o,"/users/").concat(M.uid,"/grids")).set(n);var s=Object(x.a)(n);f.database().ref("/competition/".concat(o,"/users/").concat(M.uid,"/percent")).set(s),s>=100&&f.database().ref("/competition/".concat(o,"/winner")).set(M.uid)}}}))),u.a.createElement(E.c,null,w[M.uid].ready?null:u.a.createElement(E.b,{onClick:ue},"I AM READY"))):"Loading..."),"started"===C.timerState?u.a.createElement(E.a,null,0===C.seconds?"GO":C.seconds):null,u.a.createElement(P.a,{isShow:ce},u.a.createElement(ae,null)))};M(I,"useDispatch{dispatch}\nuseSelector{{ roomId, player, level, image, tips, users }}\nuseSelector{{ loggedIn }}\nuseState{[first, setFirst](true)}\nuseTimer{countDownTimer}\nuseState{[prepared, setPrepared](true)}\nuseState{[cols, setCols](3)}\nuseState{[layoutPositionList, setLayoutPositionList]([])}\nuseState{[grids, setGrids](null)}\nuseState{[msg, setMsg]('')}\nuseModel{{\n        ModelBox, isShown, showModal, hideModal\n    }}\nuseCallback{}\nuseEffect{}\nuseEffect{}\nuseCallback{ready}",(function(){return[m.d,m.e,m.e,h.a,D.a]}));var U,k,T=I;t.a=T,(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(U.register(I,"Game","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/containers/game.js"),U.register(T,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/containers/game.js")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,o(10)(e))},723:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return j})),o.d(t,"e",(function(){return y})),o.d(t,"d",(function(){return g})),o.d(t,"b",(function(){return v})),o.d(t,"f",(function(){return O})),o.d(t,"c",(function(){return E}));var r,n=o(6),a=o.n(n),c=o(5),s=o(35);function i(){var e=a()(["\n  width: 30px;\n  text-align: right;\n  align-self: center;\n"]);return i=function(){return e},e}function u(){var e=a()(["\n  width: calc(100% - 60px);\n  align-self: center;\n  overflow:hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return u=function(){return e},e}function l(){var e=a()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  margin-right: 5px;\n  border-width: 2px;\n  border-style: solid;\n  border-color: ",";\n"]);return l=function(){return e},e}function p(){var e=a()(["\n  width: 45%;\n  display: flex;\n  flex-wrap: nowrap;\n  padding: 5px 0;\n  color: ",";\n"]);return p=function(){return e},e}function d(){var e=a()(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 30px 15px;\n  padding: 10px 20px;\n  justify-content: space-between;\n  background-color: ",";\n  border-radius: 10px;\n"]);return d=function(){return e},e}function m(){var e=a()(["\n  display: flex;\n  align-content: flex-start;\n  flex-wrap: wrap;\n"]);return m=function(){return e},e}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var f,b,j=Object(c.default)(s.a)(m()),y=c.default.div(d(),(function(e){return e.theme.competitionPlayerListBgColor})),g=c.default.div(p(),(function(e){return e.theme.competitionItemTextColor})),v=c.default.div(l(),(function(e){return e.avatar}),(function(e){return e.ready?"#23ff4f":"#cccccc"})),O=c.default.div(u()),E=c.default.div(i());(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(j,"GameInner","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),f.register(y,"PlayerList","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),f.register(g,"PlayerItem","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),f.register(v,"PlayerAvatar","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),f.register(O,"PlayerName","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),f.register(E,"PlayerGamePercent","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,o(10)(e))}}]);