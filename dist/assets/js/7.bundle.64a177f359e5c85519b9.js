(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{652:function(e,t,o){"use strict";o.r(t),function(e){var r,n=o(42),a=o(715),s=o(28),c=o(661);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object(s.c)(n.a,n.c,[{key:"competition",reducer:c.a}]);var i,l,u=a.a;t.default=u,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(u,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/index.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}.call(this,o(11)(e))},661:function(e,t,o){"use strict";(function(e){o.d(t,"f",(function(){return m})),o.d(t,"b",(function(){return b})),o.d(t,"e",(function(){return y})),o.d(t,"d",(function(){return g})),o.d(t,"g",(function(){return v})),o.d(t,"c",(function(){return O}));var r,n,a=o(7),s=o.n(a),c=o(14),i=o(28);function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(o,!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,p,f=Object(c.b)("@@COMPETITION"),m=f("SET_ROOM_ID"),b=f("SET_COMPETITION"),j=f("REMOVE_ROOM_ID"),y=f("SET_PLAYER"),g=f("SET_LEVEL"),v=f("SET_TIPS"),O=f("SET_IMAGE"),E={roomId:null,player:2,level:"easy",image:"0",tips:!1,users:{},grids:[]},w=(r={},s()(r,m.type,(function(e,t){return u({},e,{roomId:t.payload.roomId})})),s()(r,b.type,(function(e,t){return u({},e,{},t.payload)})),s()(r,j.type,(function(e){return u({},e,{roomId:null})})),s()(r,y.type,(function(e,t){return u({},e,{player:t.payload})})),s()(r,g.type,(function(e,t){return u({},e,{level:t.payload})})),s()(r,v.type,(function(e,t){return u({},e,{tips:t.payload})})),s()(r,O.type,(function(e,t){return u({},e,{image:t.payload})})),r),z=Object(i.a)(E,w),h=z;t.a=h,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(f,"actionCreator","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(m,"setRoomId","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(b,"setCompetition","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(j,"removeRoomId","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(y,"setPlayer","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(g,"setLevel","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(v,"setTips","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(O,"setImage","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(E,"initialState","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(w,"handlers","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(z,"reducers","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js"),d.register(h,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/modules/competition.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,o(11)(e))},715:function(e,t,o){"use strict";(function(e){var r,n=o(7),a=o.n(n),s=o(29),c=o.n(s),i=o(0),l=o.n(i),u=o(35),d=o(118),p=o(716),f=o(21),m=o(180),b=o(195),j=o(661),y=o(613),g=o(404),v=o(653),O=o.n(v),E=o(25),w=o(117),z=o(654),h=o.n(z),L=o(371),G=o(16),x=o(14),D=o(112),H=o(179);function S(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=function(){var e=Object(f.d)(),t=Object(f.e)((function(e){return e.competition})),o=t.roomId,r=t.player,n=t.level,s=t.image,v=t.tips,z=t.users,P=Object(f.e)((function(e){return e.auth})).loggedIn,M=Object(i.useState)(!0),I=c()(M,2),U=I[0],k=I[1],T=Object(w.a)(5,"backward",(function(){T.setTimerState("reset"),k(!1)})),C=Object(i.useState)(!0),_=c()(C,2),R=_[0],A=_[1],Y=Object(i.useState)(3),N=c()(Y,2),B=N[0],F=N[1],J=Object(i.useState)([]),V=c()(J,2),q=V[0],K=V[1],Q=Object(i.useState)(null),W=c()(Q,2),X=W[0],Z=W[1],$=Object(i.useState)(""),ee=c()($,2),te=ee[0],oe=ee[1],re=Object(D.a)("Message",te,Object(i.useCallback)((function(){ce()}),[])),ne=re.ModelBox,ae=re.isShown,se=re.showModal,ce=re.hideModal;Object(i.useEffect)((function(){var e=G.d[n];F(e),K(Object(x.e)(300,G.d[n]))}),[]),Object(i.useEffect)((function(){var t;return null!==o&&(t=m.database().ref("/competition/".concat(o))).on("value",(function(o){var r=o.val();if(void 0!==r.winner)return r.winner===P.uid?oe("You are the winner."):oe("You are the loser"),se(),void t.off();Z(r.users[P.uid].grids),e(Object(j.b)(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?S(o,!0).forEach((function(t){a()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):S(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},r))),r.allReady&&!0===R&&(T.setTimerState("started"),A(!1))})),function(){null!==o&&t.off()}}),[R,P]);var ie=Object(i.useCallback)((function(){var e={};e["/competition/".concat(o,"/users/").concat(P.uid,"/ready")]=!0,m.database().ref().update(e)}),[o,P]);return l.a.createElement(u.h,null,l.a.createElement(d.a,{title:"Multi Player Game",prev:l.a.createElement(b.a,null)}),l.a.createElement(p.a,null,Object.keys(z).length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(p.e,null,Object.keys(z).map((function(e){return l.a.createElement(p.d,{key:e},l.a.createElement(p.b,{avatar:z[e].avatar,ready:z[e].ready}),l.a.createElement(p.f,null,z[e].name),l.a.createElement(p.c,null,z[e].percent,"%"))})),Object(y.a)(g.a,r-Object.keys(z).length).map((function(e){return l.a.createElement(p.d,{key:e},l.a.createElement(p.b,null,l.a.createElement(O.a,{color:"#fff"})),l.a.createElement(p.f,null,"wait..."),l.a.createElement(p.c,null,"-%"))}))),l.a.createElement(E.m,{active:"reset"===T.timerState,first:U,duration:400},l.a.createElement(E.n,null,l.a.createElement(h.a,{value:"cp::".concat(o),size:300,includeMargin:!0})),l.a.createElement(E.l,null,l.a.createElement(L.a,{prepared:R,width:300,grids:X,cols:B,image:s,tips:v,layoutPositionList:q,moveHandler:function(e,t){if(R||t.label===B*B-1)return!1;var r=Object(x.f)(t.position,B),n=Object(x.g)(X,B);if(r.x===n.x&&1===Math.abs(r.y-n.y)||r.y===n.y&&1===Math.abs(r.x-n.x)){X[n.idx].position=X[e].position,X[e].position=n.position,m.database().ref("/competition/".concat(o,"/users/").concat(P.uid,"/grids")).set(X);var a=Object(x.a)(X);m.database().ref("/competition/".concat(o,"/users/").concat(P.uid,"/percent")).set(a),a>=100&&m.database().ref("/competition/".concat(o,"/winner")).set(P.uid)}}}))),l.a.createElement(E.c,null,z[P.uid].ready?null:l.a.createElement(E.b,{onClick:ie},"I AM READY"))):"Loading..."),"started"===T.timerState?l.a.createElement(E.a,null,0===T.seconds?"GO":T.seconds):null,l.a.createElement(H.a,{isShow:ae},l.a.createElement(ne,null)))};P(M,"useDispatch{dispatch}\nuseSelector{{ roomId, player, level, image, tips, users }}\nuseSelector{{ loggedIn }}\nuseState{[first, setFirst](true)}\nuseTimer{countDownTimer}\nuseState{[prepared, setPrepared](true)}\nuseState{[cols, setCols](3)}\nuseState{[layoutPositionList, setLayoutPositionList]([])}\nuseState{[grids, setGrids](null)}\nuseState{[msg, setMsg]('')}\nuseModel{{\n        ModelBox, isShown, showModal, hideModal\n    }}\nuseCallback{}\nuseEffect{}\nuseEffect{}\nuseCallback{ready}",(function(){return[f.d,f.e,f.e,w.a,D.a]}));var I,U,k=M;t.a=k,(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(M,"Game","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/containers/game.js"),I.register(k,"default","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/containers/game.js")),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&U(e)}).call(this,o(11)(e))},716:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return j})),o.d(t,"e",(function(){return y})),o.d(t,"d",(function(){return g})),o.d(t,"b",(function(){return v})),o.d(t,"f",(function(){return O})),o.d(t,"c",(function(){return E}));var r,n=o(6),a=o.n(n),s=o(5),c=o(35);function i(){var e=a()(["\n  width: 30px;\n  text-align: right;\n  align-self: center;\n"]);return i=function(){return e},e}function l(){var e=a()(["\n  width: calc(100% - 60px);\n  color: #fff;\n  align-self: center;\n"]);return l=function(){return e},e}function u(){var e=a()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  margin-right: 5px;\n  border-width: 2px;\n  border-style: solid;\n  border-color: ",";\n"]);return u=function(){return e},e}function d(){var e=a()(["\n  width: 45%;\n  display: flex;\n  flex-wrap: nowrap;\n  padding: 5px 0;\n"]);return d=function(){return e},e}function p(){var e=a()(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 30px 10px 50px 10px;\n  padding: 10px;\n  justify-content: space-between;\n  border: 1px solid #fff;\n  border-radius: 5px;\n"]);return p=function(){return e},e}function f(){var e=a()(["\n  display: flex;\n  align-content: flex-start;\n  flex-wrap: wrap;\n"]);return f=function(){return e},e}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var m,b,j=Object(s.default)(c.a)(f()),y=s.default.div(p()),g=s.default.div(d()),v=s.default.div(u(),(function(e){return e.avatar}),(function(e){return e.ready?"green":"#cccccc"})),O=s.default.div(l()),E=s.default.div(i());(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(j,"GameInner","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(y,"PlayerList","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(g,"PlayerItem","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(v,"PlayerAvatar","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(O,"PlayerName","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js"),m.register(E,"PlayerGamePercent","/Users/james/Documents/personal-project/capoo-puzzle/src/routes/competition/routes/game/styles/index.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,o(11)(e))}}]);